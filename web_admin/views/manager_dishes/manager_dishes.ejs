<div class="row align-items-center mb-3">
    <div class="col">
        <h4 class="mb-1">Quan ly mon an</h4>
        <p class="text-muted mb-0">Tim va xem danh sach mon an.</p>
    </div>
    <div class="align-items-center gap-3 d-none" id="bulk-actions-dishes" style="margin-left:8px ;">
      <span id="selected-count-dishes" class="text-muted mb-0" style="font-size: 14px; font-weight: 600;"></span>
      <button id="btn-delete-selected-dishes" class="btn btn-danger btn-sm" disabled>Xoa</button>
    </div>
    <div class="col-auto d-flex align-items-center gap-2">
        <input id="dish-search" type="text" class="form-control form-control-sm" placeholder="Tim theo ten/slug" style="width: 240px;">
        <button class="btn btn-primary btn-sm" id="btn-search-dish">Tim</button>
        <button class="btn btn-light btn-sm" id="btn-reset-dish" title="Reset"><i class="bi-arrow-clockwise"></i></button>
        <button class="btn btn-success btn-sm" id="btn-add-dish" >+ Them mon</button>
    </div>
</div>

<div class="card">
    <div class="table-responsive">
        <table id="dish-table" class="table table-sm mb-0 table-header-orange">
            <thead>
                <tr>
                  <th style="width:32px;">
                    <input type="checkbox" id="select-all-dishes">
                  </th>
                    <th>STT</th>
                    <th>Ảnh</th>
                    <th>Tên Món</th>
                    <th><select id="dish-filter-province" class="form-control form-control-sm" style="width:200px;">
                      <option value="">Tỉnh ▼</option>
                    </select></th>
                    <th>Miền</th>
                    <th>Loại món</th>
                    <th>Best Time</th>
                    <th class="text-center" style="width: 80px;">Tac vu</th>
                </tr>
            </thead>
            <tbody id="dish-table-body">
                <tr>
                    <td colspan="9" class="text-center text-muted">Dang tai...</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<!-- Modal sua mon -->
<div class="modal fade" id="modal-edit-dish" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-scrollable">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Sua mon an</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <form id="form-edit-dish" class="row g-3">
          <input type="hidden" id="edit-id">
          <div class="col-md-6">
            <label class="form-label">Ten</label>
            <input type="text" class="form-control" id="edit-name" required>
          </div>
          <div class="col-md-6">
            <label class="form-label">Slug</label>
            <input type="text" class="form-control" id="edit-slug">
          </div>
          <div class="col-md-6">
            <label class="form-label">Tinh</label>
            <input type="text" class="form-control" id="edit-province">
          </div>
          <div class="col-md-6">
            <label class="form-label">Mien</label>
            <input type="text" class="form-control" id="edit-region">
          </div>
          <div class="col-md-6">
            <label class="form-label">Category</label>
            <input type="text" class="form-control" id="edit-category">
          </div>
          <div class="col-md-6">
            <label class="form-label">Gia</label>
            <input type="text" class="form-control" id="edit-price">
          </div>
          <div class="col-md-6">
            <label class="form-label">Best time</label>
            <input type="text" class="form-control" id="edit-best-time">
          </div>
          <div class="col-md-6">
            <label class="form-label">Best season</label>
            <input type="text" class="form-control" id="edit-best-season">
          </div>
          <div class="col-md-6">
            <label class="form-label">Tags</label>
            <input type="text" class="form-control" id="edit-tags">
          </div>
          <div class="col-md-3">
            <label class="form-label">Spicy</label>
            <input type="number" min="0" class="form-control" id="edit-spicy">
          </div>
          <div class="col-md-3">
            <label class="form-label">No (satiety)</label>
            <input type="number" min="0" class="form-control" id="edit-satiety">
          </div>
          <div class="col-12">
            <label class="form-label">Anh (URL)</label>
            <input type="text" class="form-control" id="edit-img">
          </div>
          <div class="col-12">
            <label class="form-label">Chon anh tu may</label>
            <input type="file" class="form-control" id="edit-images-file" accept="image/*" multiple>
            <div class="form-text text-muted">Chon nhieu anh, moi lan chon se duoc them vao danh sach.</div>
            <div id="edit-images-preview" class="d-flex flex-wrap gap-2 mt-2"></div>
          </div>
          
          <div class="col-12">
            <label class="form-label">Mo ta</label>
            <textarea class="form-control" rows="3" id="edit-desc"></textarea>
          </div>
        </form>
        <div class="text-danger small mt-2" id="edit-error"></div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Dong</button>
        <button type="button" class="btn btn-primary" id="btn-save-dish">Luu</button>
      </div>
    </div>
  </div>
</div>

<!-- // modal them mon -->
<div class="modal" id="modal-add-dish" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-scrollable">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Them mon an</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <form id="form-add-dish" class="row g-3">
            <div class="col-md-6">
              <label class="form-label">Ma/ID (duy nhat)</label>
              <input type="text" class="form-control" id="add-id" required>
            </div>
            <div class="col-md-6">
              <label class="form-label">Ten</label>
              <input type="text" class="form-control" id="add-name" required>
            </div>
            <div class="col-md-6">
              <label class="form-label">Slug</label>
              <input type="text" class="form-control" id="add-slug">
            </div>
            <div class="col-md-6">
              <select name="" id="add-region" class="form-control">
                <option value="">-- Chọn miền --</option>
              </select>
            </div>
            <div class="col-md-6">
              <select name="" id="add-province" class="form-control" >
                <option value="">--Chọn Tỉnh--</option>
              </select>
            </div>

            <div class="col-md-6">
              <label class="form-label">Category</label>
              <input type="text" class="form-control" id="add-category">
            </div>

            <div class="col-md-6">
              <label class="form-label">Gia</label>
              <input type="text" class="form-control" id="add-price">
            </div>
            <div class="col-md-6">
              <label class="form-label">Best time</label>
              <input type="text" class="form-control" id="add-best-time">
            </div>
            <div class="col-md-6">
              <label class="form-label">Best season</label>
              <input type="text" class="form-control" id="add-best-season">
            </div>
            <div class="col-md-6">
              <label class="form-label">Tags</label>
              <input type="text" class="form-control" id="add-tags">
            </div>
            <div class="col-md-3">
              <label class="form-label">Spicy</label>
              <input type="number" min="0" class="form-control" id="add-spicy">
            </div>
            <div class="col-md-3">
              <label class="form-label">No (satiety)</label>
              <input type="number" min="0" class="form-control" id="add-satiety">
            </div>
            <div class="col-12">
              <label class="form-label">Anh (URL)</label>
              <input type="text" class="form-control" id="add-img">
            </div>
            <div class="col-12">
              <label for="" class="form-label">Chon anh</label>
              <input type="file" class="form-control" id="add-images-file" accept="image/*" multiple>
              <div class="form-text text-muted">Vui long chon file anh</div>
              <div id="add-images-preview" class="d-flex flex-wrap gap-2 mt-2"></div>
            </div>
            <div class="col-12">
              <label class="form-label">Mo ta</label>
              <textarea class="form-control" rows="3" id="add-desc"></textarea>
            </div>
          </form>
          <div class="text-danger small mt-2" id="add-error"></div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Dong</button>
          <button type="button" class="btn btn-primary" id="btn-save-add">Luu</button>
        </div>
      </div>
    </div>
  </div>
  

<div id="dish-detail-overlay" class="dish-detail-overlay"></div>
<aside id="dish-detail-modal" class="dish-detail-modal" aria-hidden="true">
  <div class="dish-detail-header">
    <div class="dish-detail-title">Thong tin mon an</div>
    <button type="button" id="dish-detail-close" class="dish-detail-close">Dong</button>
  </div>

  <div class="dish-detail-hero">
    <div id="dish-detail-image-wrap" class="dish-detail-image">
      <img id="dish-detail-image" src="" alt="">
      <span class="dish-detail-placeholder">No image</span>
    </div>
    <div class="dish-detail-meta">
      <div id="dish-detail-name" class="dish-detail-name">-</div>
      <div id="dish-detail-code" class="dish-detail-sub">-</div>
      <div id="dish-detail-slug" class="dish-detail-sub">-</div>
      <div class="dish-detail-badges">
        <span id="dish-detail-region" class="dish-detail-badge">-</span>
        <span id="dish-detail-province" class="dish-detail-badge is-soft">-</span>
        <span id="dish-detail-category" class="dish-detail-badge is-dark">-</span>
      </div>
    </div>
  </div>

  <div class="dish-detail-body">
    <div class="dish-detail-row"><span>Gia</span><strong id="dish-detail-price">-</strong></div>
    <div class="dish-detail-row"><span>Best time</span><strong id="dish-detail-best-time">-</strong></div>
    <div class="dish-detail-row"><span>Best season</span><strong id="dish-detail-best-season">-</strong></div>
    <div class="dish-detail-row"><span>Spicy</span><strong id="dish-detail-spicy">-</strong></div>
    <div class="dish-detail-row"><span>No (satiety)</span><strong id="dish-detail-satiety">-</strong></div>
    <div class="dish-detail-row"><span>Tags</span><strong id="dish-detail-tags">-</strong></div>
    <div class="dish-detail-row"><span>Created</span><strong id="dish-detail-created">-</strong></div>
    <div class="dish-detail-row"><span>Updated</span><strong id="dish-detail-updated">-</strong></div>
    <div class="dish-detail-row dish-detail-row-desc">
      <span>Mo ta</span>
      <div id="dish-detail-desc" class="dish-detail-desc">-</div>
    </div>
    <div class="dish-detail-gallery">
      <div class="dish-detail-gallery-title">Thu vien anh</div>
      <div id="dish-detail-gallery" class="dish-detail-gallery-grid"></div>
    </div>
  </div>
</aside>

<script src="/js/manager_dishes/manager_dishes.js"></script>
<script src="/js/manager_dishes/dish_action.js"></script>
